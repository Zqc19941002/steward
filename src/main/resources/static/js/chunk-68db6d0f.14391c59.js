(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68db6d0f"],{"0e67":function(t,e,n){"use strict";n("fe2f")},2566:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"authorization-vue frame-page h-panel"},[t._m(0),n("div",{staticClass:"h-panel-body"},[n("div",{staticClass:"authorization-frame"},[n("div",{staticClass:"role-container"},t._l(t.roles,(function(e){return n("div",{key:e.id,staticClass:"role-item",class:{selected:t.role==e},on:{click:function(n){return t.changeRole(e)}}},[n("p",{staticClass:"title"},[t._v(t._s(e.name))]),n("p",{staticClass:"desc"},[t._v(t._s(e.description))])])})),0),n("div",{staticClass:"menu-container"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("Button",{attrs:{color:"primary",size:"s"},on:{click:function(e){t.$refs.menu.chooseAll(),t.$refs.menu.expandAll()}}},[t._v("全选")]),n("Button",{attrs:{size:"s"},on:{click:function(e){t.menus=[]}}},[t._v("清空")])],1),n("Tree",{ref:"menu",attrs:{option:t.menuOption,multiple:"","choose-mode":"some"},model:{value:t.menus,callback:function(e){t.menus=e},expression:"menus"}})],1),n("div",{staticClass:"users-container"},[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("Button",{attrs:{color:"primary",size:"s"},on:{click:function(e){t.$refs.user.chooseAll(),t.$refs.user.expandAll()}}},[t._v("全选")]),n("Button",{attrs:{size:"s"},on:{click:function(e){t.users=[]}}},[t._v("清空")])],1),n("Tree",{ref:"user",attrs:{option:t.userOption,multiple:""},model:{value:t.users,callback:function(e){t.users=e},expression:"users"}})],1)]),n("div",{staticClass:"text-center"},[n("Button",{attrs:{color:"primary"},on:{click:t.save}},[t._v("保存")]),n("Button",{on:{click:t.getData}},[t._v("重置")])],1)])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-panel-bar"},[n("span",{staticClass:"h-panel-title"},[t._v("权限管理")]),n("span",{staticClass:"dark2-color"},[t._v("保存示例是存储在Local Storage中，可通过清空 Local Storage 属性 SYS_CONFIG_MENU 重置菜单")])])}],r=n("d210"),a=r["a"],o=(n("0e67"),n("c701")),u=Object(o["a"])(a,i,s,!1,null,null,null);e["default"]=u.exports},5965:function(t,e,n){"use strict";n.r(e);var i=n("f95b"),s={User:{info:function(){return i["a"].get("/account/info")}},Dict:{get:function(){return i["a"].get("/dict")}},Home:{getMessageList:function(){return i["a"].get("/home/messages")}},Account:{menus:function(){}},Login:{login:function(t){return i["a"].postJson("/login",t)},logout:function(t){return i["a"].post("/logout",t)}},Management:{users:function(t){return i["a"].get("/management/users",t)},roles:function(t){return i["a"].get("/management/roles",t)}}};e["default"]=s},"804d":function(t,e,n){var i=n("9cff"),s=n("cea2"),r=n("839a")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==s(t))}},d210:function(t,e,n){"use strict";(function(t,i,s){var r=n("bd0f");e["a"]={data:function(){return{role:null,roles:[],menuOption:{datas:r["b"]},userOption:{keyName:"id",titleName:"name",dataMode:"list",parentName:"parent",getTotalDatas:function(e){t.Management.users().then((function(t){t.ok&&e(t.body)}))}},menus:[],users:[]}},mounted:function(){this.init()},methods:{init:function(){this.$refs.menu.expandAll(),this.getRoles()},changeRole:function(t){this.role=t,this.initNetTagTable(t)},getRoles:function(){var e=this;t.Management.roles().then((function(t){t.ok&&(e.roles=t.body,e.roles.length&&(e.role=e.roles[0],e.initNetTagTable()))}))},initNetTagTable:function(){this.menus=i.get("SYS_MENUS")},save:function(){s.saveLocal("SYS_CONFIG_MENU",this.menus),this.$Message.success("保存成功"),i.trigger("SYS_MENU_REFRESH")}},computed:{}}}).call(this,n("5965")["default"],n("6ee7"),n("d557")["default"])},f95b:function(t,e,n){"use strict";(function(t){n("fc02"),n("1bc7"),n("0c84"),n("c5cb");var i=n("82ae"),s=n.n(i),r=n("1cfa"),a=n.n(r),o=n("d557"),u={repeatable:!1},c={PREFIX:"/api",Author:o["default"].getAuthor()||"heyui",requestingApi:new Set,extractUrl:function(t){return t?t.split("?")[0]:""},isRequesting:function(t){var e=this.extractUrl(t);return this.requestingApi.has(e)},addRequest:function(t){var e=this.extractUrl(t);this.requestingApi.add(e)},deleteRequest:function(t){var e=this.extractUrl(t);this.requestingApi.delete(e)},get:function(t,e,n){var i={url:t,method:"GET"};return e&&(i.params=e),this.ajax(i,n)},post:function(t,e,n){var i={url:t,method:"POST"};return e&&(i.data=a.a.stringify(e)),this.ajax(i,n)},postJson:function(t,e,n){return this.ajax({url:t,method:"POST",data:e},n)},patchJson:function(t,e,n,i){return this.ajax({url:t,method:"PATCH",data:e},i)},delete:function(t,e){return this.ajax({url:t,method:"DELETE"},e)},ajax:function(e,n){var i=o["default"].extend({},u,e,n||{});i.crossDomain=0===i.url.indexOf("http");var r=i.url;if(i.crossDomain||(r=i.url=this.PREFIX+i.url),"GET"!=i.method){if(this.isRequesting(r))return new Promise((function(t,e){t({ok:!1,msg:"重复请求"})}));!1===i.repeatable&&this.addRequest(r)}var c={author:this.Author,Authorization:o["default"].getLocal("token")},l={headers:c,responseType:"json",validateStatus:function(t){return!0},paramsSerializer:function(t){return a.a.stringify(t,{allowDots:!0})}};i.crossDomain&&(l.headers={});var f=this;return i=o["default"].extend({},l,i),new Promise((function(e){return s.a.request(i).then((function(n){f.deleteRequest(i.url);var s=n.data,r=n.status;if(200!=r){if(401==r)return void(window.top.location="/login");500==r?t.$Message.error("后台异常"):404==r?t.$Message.error("请求不存在"):200!=r&&t.$Message.error(s._msg||"请求异常")}s.ok=200==s.status,e(s)})).catch((function(){f.deleteRequest(i.url),e({ok:!1})}))}))}};e["a"]=c}).call(this,n("fd72"))},fc02:function(t,e,n){"use strict";var i=n("804d"),s=n("a86f"),r=n("1b0b"),a=n("43ec"),o=n("201c"),u=n("f417"),c=n("0353"),l=n("0926"),f=Math.min,d=[].push,h="split",g="length",m="lastIndex",p=4294967295,v=!l((function(){RegExp(p,"y")}));n("c46f")("split",2,(function(t,e,n,l){var x;return x="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[g]||2!="ab"[h](/(?:ab)*/)[g]||4!="."[h](/(.?)(.?)/)[g]||"."[h](/()()/)[g]>1||""[h](/.?/)[g]?function(t,e){var s=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(s,t,e);var r,a,o,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?p:e>>>0,v=new RegExp(t.source,l+"g");while(r=c.call(v,s)){if(a=v[m],a>f&&(u.push(s.slice(f,r.index)),r[g]>1&&r.index<s[g]&&d.apply(u,r.slice(1)),o=r[0][g],f=a,u[g]>=h))break;v[m]===r.index&&v[m]++}return f===s[g]?!o&&v.test("")||u.push(""):u.push(s.slice(f)),u[g]>h?u.slice(0,h):u}:"0"[h](void 0,0)[g]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var s=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,s,i):x.call(String(s),n,i)},function(t,e){var i=l(x,t,this,e,x!==n);if(i.done)return i.value;var c=s(t),d=String(this),h=r(c,RegExp),g=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),b=new h(v?c:"^(?:"+c.source+")",m),_=void 0===e?p:e>>>0;if(0===_)return[];if(0===d.length)return null===u(b,d)?[d]:[];var k=0,S=0,y=[];while(S<d.length){b.lastIndex=v?S:0;var E,R=u(b,v?d:d.slice(S));if(null===R||(E=f(o(b.lastIndex+(v?0:S)),d.length))===k)S=a(d,S,g);else{if(y.push(d.slice(k,S)),y.length===_)return y;for(var C=1;C<=R.length-1;C++)if(y.push(R[C]),y.length===_)return y;S=k=E}}return y.push(d.slice(k)),y}]}))},fe2f:function(t,e,n){}}]);
//# sourceMappingURL=chunk-68db6d0f.14391c59.js.map